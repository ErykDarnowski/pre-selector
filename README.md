# pre-SELECTOR

A python program to ease picking **pre-commit** hooks.

## TODO

- Prep for open source
- [Building Beautiful Command Line Interfaces with Python](https://codeburst.io/building-beautiful-command-line-interfaces-with-python-26c7e1bb54df)
- Suggest that custom hooks are available?
- Fix the `directories` / `extensions` sittuation in the `hook_ext_pairs.json` file
- Implement good import solution
  - <https://stackoverflow.com/questions/2349991/how-do-i-import-other-python-files>
  - <https://csatlas.com/python-import-file-module/>
<!-- -->
- Modes
  - Select everything by yourself mode (language / name and such)
    - Add a search function and pick by checking off a group? (this will then get printed in to an MD file to pick the exact hooks)
  - Auto select the language ones by detecting ext and than add additional ones yourself
    - Count amount of each file?
    - Check if the script really gets all extensions
    - Blacklist certain directories (like `.expo cache`) / make the user do that manually?
    - Print (in to an MD file) extensions that couldn't be paired with any hooks, the picked hooks and other available hooks (ones that are not language specific) so people can find new stuff they may like to use
    - Figure out edge cases
      - `run` / `artisan` (no ext) try getting from shebang?
      - `.env.testing` / `.add.spl` (combined ext)
      - `.gitattribute` (file names that are the ext)
<!-- -->
- Add spinner animations (Sciagi)?
- Error catching + clear messages
- [How to build and distribute a CLI Tool with Python](https://medium.com/nerd-for-tech/how-to-build-and-distribute-a-cli-tool-with-python-537ae41d9d78)
- Add `requirements.txt` file
  - <https://www.google.com/search?q=requirements+file&oq=requirements+file&aqs=chrome..69i57.2414j0j1&sourceid=chrome&ie=UTF-8>
  - <https://stackoverflow.com/a/41117308/11749019>

## Files

| File | Description                                                                                                                                                                                                                                                                                                                                |
| :--- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `menu.py` | Prototype of the program's initial menu screen.                                                                                                                                                                                                                                                                                       |
| `get_ext.py` | Prints distinct extensions in path given as argument.                                                                                                                                                                                                                                                                              |
| `hooks_to_md.py` | Converts and prints `hooks.json` as Markdown (this way it's easier to edit when you're picking the exact hooks). Keep in mind you have to pipe it in to a file, like so: `./hooks_to_md.py >> markdown.md`.                                                                                                                    |
| `convert_to_one_line.py` | Converts a multi line piece of text (given in variable) describing a hook group (taken from a Markdown file generated by `hooks_to_md.py`) in to one line required by JSON in `hook_ext_pairs.json`.                                                                                                                   |
| `find_hook_group_for_ext.py` | Print the right text (hook group) from `hook_ext_pairs.json` for extension given as argument.                                                                                                                                                                                                                      |
| `updates/was_hook_added.py` | Check line number difference in local `hooks.json` file and the one hosted on the **pre-commit** website: <https://pre-commit.com/all-hooks.json> to determine whether a hook was added (the approach is supposed to not allow for things like version number bumps to trigger an update alert).                    |
| `updates/were_hooks_updated.py` | Check for any difference between the local `hooks.json` file and the one hosted on the **pre-commit** website: <https://pre-commit.com/all-hooks.json> to determine whether anything was changed (this approach is supposed to allow for things like version number bumps and such to trigger an update alert). |
